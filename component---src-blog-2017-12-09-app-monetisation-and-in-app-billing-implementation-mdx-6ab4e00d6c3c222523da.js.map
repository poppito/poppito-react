{"version":3,"sources":["webpack:///./node_modules/@mdx-js/tag/dist/index.js","webpack:///./node_modules/@mdx-js/tag/dist/mdx-provider.js","webpack:///./node_modules/@mdx-js/tag/dist/mdx-tag.js","webpack:///./src/blog/2017-12-09-App-monetisation-and-In-App-Billing-implementation.mdx","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["Object","defineProperty","exports","value","_mdxTag","enumerable","get","_interopRequireDefault","default","_mdxProvider","obj","__esModule","withMDXComponents","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","_react2","_React$createContext","createContext","Provider","Consumer","Component","props","createElement","contextComponents","components","children","_createClass","defineProperties","descriptor","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","defaults","inlineCode","wrapper","MDXTag","_Component","this","__proto__","getPrototypeOf","apply","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_props","name","parentName","_props$props","childProps","_props$components","Layout","layoutProps","MDXContent","layout","render","className","href","smooth","duration","align","src","React","isMDXComponent","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf"],"mappings":"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","file":"component---src-blog-2017-12-09-app-monetisation-and-in-app-billing-implementation-mdx-6ab4e00d6c3c222523da.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mdxTag = require('./mdx-tag');\n\nObject.defineProperty(exports, 'MDXTag', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_mdxTag).default;\n  }\n});\n\nvar _mdxProvider = require('./mdx-provider');\n\nObject.defineProperty(exports, 'MDXProvider', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_mdxProvider).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withMDXComponents = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar _React$createContext = _react2.default.createContext({}),\n    Provider = _React$createContext.Provider,\n    Consumer = _React$createContext.Consumer;\n\nvar withMDXComponents = exports.withMDXComponents = function withMDXComponents(Component) {\n  return function (props) {\n    return _react2.default.createElement(Consumer, null, function (contextComponents) {\n      return _react2.default.createElement(Component, _extends({}, props, {\n        components: props.components || contextComponents\n      }));\n    });\n  };\n};\n\nvar MDXProvider = function MDXProvider(props) {\n  return _react2.default.createElement(Provider, {\n    value: props.components\n  }, props.children);\n};\n\nexports.default = MDXProvider;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _mdxProvider = require('./mdx-provider');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar defaults = {\n  inlineCode: 'code',\n  wrapper: 'div'\n};\n\nvar MDXTag = function (_Component) {\n  _inherits(MDXTag, _Component);\n\n  function MDXTag() {\n    _classCallCheck(this, MDXTag);\n\n    return _possibleConstructorReturn(this, (MDXTag.__proto__ || Object.getPrototypeOf(MDXTag)).apply(this, arguments));\n  }\n\n  _createClass(MDXTag, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          name = _props.name,\n          parentName = _props.parentName,\n          _props$props = _props.props,\n          childProps = _props$props === undefined ? {} : _props$props,\n          children = _props.children,\n          _props$components = _props.components,\n          components = _props$components === undefined ? {} : _props$components,\n          Layout = _props.Layout,\n          layoutProps = _props.layoutProps;\n      var Component = components[parentName + '.' + name] || components[name] || defaults[name] || name;\n\n      if (Layout) {\n        return _react2.default.createElement(Layout, _extends({\n          components: components\n        }, layoutProps), _react2.default.createElement(Component, childProps, children));\n      }\n\n      return _react2.default.createElement(Component, childProps, children);\n    }\n  }]);\n\n  return MDXTag;\n}(_react.Component);\n\nexports.default = (0, _mdxProvider.withMDXComponents)(MDXTag);","\n  import React from 'react'\n  import { MDXTag } from '@mdx-js/tag'\n  \n\nconst layoutProps = {\n  \n};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.layout = null\n  }\n  render() {\n    const { components, ...props } = this.props\n\n    return <MDXTag\n             name=\"wrapper\"\n             \n             components={components}><div className=\"blogpage\">\n    <a href={\"/blog\"} smooth duration={1000}>\n    {\"Back\"}\n    </a>\n</div>\n<div className=\"blogText\">\n<MDXTag name=\"h1\" components={components}>{`Android apps and monetisation.`}</MDXTag>\n<br/>\n<br/>\n<MDXTag name=\"p\" components={components}>{`Some devs make apps for fun, some make them for learning things. But if you've got a good app idea, chances are you want to be able to monetise it. With Android, there are several ways of going about it i.e. putting in ads - which relies on not only high volumes of downloads but large amounts of ad screen time - or you could sell a paid app - but that's not without its challenges. A lot of mobile users will want to be able to try your app just so they can work out if it's worth their while. This would perhaps mean publishing a trial version of your app and then subtly diverting these users to a paid version - but this does mean you'd have to then publish two versions of your app - however, you're still splitting your audience across two apps - this means splitting your ratings, downloads and app indexation on the Play store!`}</MDXTag>\n<MDXTag name=\"h1\" components={components}>{`Best of both worlds.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`There is a better way. You can combine these two monetisation models by building a single version of your app and introducing paid features in your app - by using the `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://developer.android.com/google/play/billing/index.html\"}}>{`Android's In-App Billing API`}</MDXTag>{` - and its super easy to implement. There are a couple of things you'll want to work out first though - for example whether you want to charge your users with a subscription model i.e. something a media service would charge its users every month or over some other pre-determined amount of time, or have a consumable feature - i.e. something like ammo in a game - but in this particular example we're going to be focussing on having a perpetually unlockable feature which really is a baseline implementation of the lot.`}</MDXTag>\n<MDXTag name=\"h1\" components={components}>{`Let's give it a go.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`The `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingClient`}</MDXTag>{` convenience class provides a gateway into the `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://developer.android.com/google/play/billing/billing_library.html\"}}>{`Play Billing Library`}</MDXTag>{` and abstracts away calls to the `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://developer.android.com/google/play/billing/api.html\"}}>{`In-App billing API`}</MDXTag>{` for us. Here's how to leverage it:`}</MDXTag>\n<MDXTag name=\"ul\" components={components}>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`First we need to get an `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`instance`}</MDXTag>{` of the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingClient`}</MDXTag>{`. There is a convenience `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Builder`}</MDXTag>{` class that requires the calling Activity's `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Context`}</MDXTag>{`. We can also set the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`PurchasesUpdatedListener`}</MDXTag>{` callback here which is important because we want to be notified of when the billing flow is complete and the user has been charged of course!`}</MDXTag>\n<MDXTag name=\"pre\" components={components} parentName=\"li\"><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`mBillingClient = BillingClient.newBuilder(mContext)\n               .setListener(this)\n               .build();\n`}</MDXTag></MDXTag>\n</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`Let's take a quick detour and also update our permissions to use `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`In-App Billing`}</MDXTag>{` in our `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`AndroidManifest.xml`}</MDXTag>{` file.`}</MDXTag>\n<MDXTag name=\"pre\" components={components} parentName=\"li\"><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`<uses-permission android:name=\"com.android.vending.BILLING\" />\n`}</MDXTag></MDXTag>\n</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`We set up the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`PurchasesUpdatedListener`}</MDXTag>{` previously - so, when the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`onPurchasesUpdated`}</MDXTag>{` callback gets notified - there are a couple of things to check. Firstly, there is an integer value `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`responseCode`}</MDXTag>{`. You can read about what `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://developer.android.com/reference/com/android/billingclient/api/BillingClient.BillingResponse.html\"}}>{`responseCode`}</MDXTag>{` means but for now, we're looking for `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingResponse.OK`}</MDXTag>{`. Secondly, a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`@nullable List<Purchase>`}</MDXTag>{` value - we can iterate over all of its values and look for particular `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`skus`}</MDXTag>{` - more on this later. Because `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`List<Purchas>`}</MDXTag>{` is nullable, its always a good idea to guard it with a null check of course and then iterate over to see if the required `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`sku`}</MDXTag>{` has been returned.`}</MDXTag>\n<MDXTag name=\"pre\" components={components} parentName=\"li\"><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`if (purchases.size() > 0) {\n                for (Purchase result : purchases) {\n                    if (result.getSku().equals(mContext.getResources().getString(skuOfInterest))) {\n                        //the billing flow has completed successfully.\n                    }\n                }\n            }\n`}</MDXTag></MDXTag>\n</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`Sweet. Now, we're Ok to go ahead and connect up our `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`mBillingClient`}</MDXTag>{`, we've previously built and added a callback to. We are required to pass in a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingClientStateListener`}</MDXTag>{`. Basically, this callback comes back with a integer value `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingResponse`}</MDXTag>{` code which helps us determine if connnectivity was successful or not. There is also a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`onBillingServiceDisconnected`}</MDXTag>{` method which is needed to be queried and consequently we need to return some meaningful feedback error to the user if required.`}</MDXTag>\n<MDXTag name=\"pre\" components={components} parentName=\"li\"><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`mBillingClient.startConnection(new BillingClientStateListener() {\n        @Override\n        public void onBillingSetupFinished(int responseCode) {\n            if (responseCode == BillingClient.BillingResponse.OK) {\n                mIsBillingClientConnected = true;\n                //do other interesting things here - as we're connected now.\n            }\n        }\n\n        @Override\n        public void onBillingServiceDisconnected() {\n           mIsBillingClientConnected = false;\n           //handle this failure gracefully.\n       }\n    }\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`now we know that we can query the In-App billing API when `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`mIsBillingClientConnected`}</MDXTag>{` is `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`true`}</MDXTag>{` and gracefully try either reconnecting or show an error response of sorts when it is `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`false`}</MDXTag>{`.`}</MDXTag>\n</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`Now we've mentioned `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`sku`}</MDXTag>{`s a few times in previous steps. This is just a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`String`}</MDXTag>{` value that an `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-App product`}</MDXTag>{` gets given when we generate one. Let's explore this here - we'll add an `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-app product`}</MDXTag>{` that we can bill against.`}</MDXTag>\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`On the `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`Play Console`}</MDXTag>{`, under `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`Store Presence`}</MDXTag>{`, there is an option to create `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-App products`}</MDXTag>{` click on `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`Add a Managed Product`}</MDXTag>{` - then give it an id (only underscores, lowercase letters and digits allowed!) - which will become the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`sku`}</MDXTag>{` for your `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-App Product`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`Next, give it a title and a description as well as price. This will show up when a user tries to buy your In-app product through your app, so make it short and simple. The Play console does automatic currency conversions for countries your app is supported in - so if you need to tweak that for individual countries - you can it here as well. Finally, click  on save and it will add your `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`In-App product`}</MDXTag>{`.`}</MDXTag>\n<p align=\"center\">\n<img src=\"../images/billing/in-app-products.png\"/>\n</p>\n<p align=\"center\">\n<img src=\"../images/billing/add-product.png\"/>\n</p>\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`Now that you've got an `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`sku`}</MDXTag>{`, you can create a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`@StringRes`}</MDXTag>{` for it.`}</MDXTag>\n<MDXTag name=\"pre\" components={components} parentName=\"li\"><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`<string name=\"id_sku_my_product\">01_my_first_product</string>\n`}</MDXTag></MDXTag>\n</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`Nearly there! Now you can query for if the user has purchased your `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-App Product`}</MDXTag>{`. This is determined by running the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`queryPurchaseHistoryAsync`}</MDXTag>{` callback on your `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`mBillingClient`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"pre\" components={components} parentName=\"li\"><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`mBillingClient.queryPurchaseHistoryAsync(BillingClient.SkuType.INAPP,\n             new PurchaseHistoryResponseListener() {\n                 @Override\n                 public void onPurchaseHistoryResponse(@BillingClient.BillingResponse int responseCode,\n                                                       List<Purchase> purchasesList) {\n                     if (responseCode == BillingClient.BillingResponse.OK) {\n                         if (purchasesList != null) {\n                             if (purchasesList.size() > 0) {\n                                 for (Purchase result : purchasesList) {\n                                     if (result.getSku().equals(mContext.getResources().getString(R.string.01_my_first_product))) {\n                                         //success! your user has bought your In-App product. Woohoo!\n                                     }\n                                 }\n\n                             }\n                         }\n                     }\n                 }\n             });\n`}</MDXTag></MDXTag>\n</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`Although, Android gives you some more convenience on top of this. You do not need to call `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`queryPurchaseHistoryAsync`}</MDXTag>{` everytime. Purchases are cached by the Play store app - so you can just run `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`queryPurchases`}</MDXTag>{`. So, what naturally follows is that you would use this call to see if it comes back with legit `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`PurchaseResult`}</MDXTag>{`, if not you can run  `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`queryPurchaseHistoryAsync`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"pre\" components={components} parentName=\"li\"><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`Purchase.PurchasesResult purchasesResult = mBillingClient.queryPurchases(BillingClient.SkuType.INAPP);\n                  if (purchasesResult != null) {\n                      if (purchasesResult.getPurchasesList() != null) {\n                          if (purchasesResult.getPurchasesList().size() > 0) {\n                              for (Purchase result : purchasesResult.getPurchasesList()) {\n                                  if (result.getSku().equals(mContext.getResources().getString(R.string.01_my_first_product))) {\n                                      //success! your user has bought your In-App product. Wowie!\n                                  }\n                              }\n                          }\n                      }\n                  }\n`}</MDXTag></MDXTag>\n</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`Ok, so that's the basic flow. Let's recap:`}</MDXTag>\n<MDXTag name=\"ol\" components={components} parentName=\"li\">\n<MDXTag name=\"li\" components={components} parentName=\"ol\">{`Build the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`BillingClient`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ol\">{`Connect said `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`BillingClient`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ol\">{`On success, pass in the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`purchasesUpdatedListener`}</MDXTag>{` callback.`}</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ol\">{`When purchases are updated query for your `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`sku`}</MDXTag>{` by running first running `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`queryPurchases`}</MDXTag>{` or `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`queryPurchaseHistoryAsync`}</MDXTag>{`.`}</MDXTag>\n</MDXTag>\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`But what about users that have already bought your product? Well, you'll have to run this process at the start of your app too! Users that have already bought your app don't need to be run through a purchase process of course!`}</MDXTag>\n</MDXTag>\n</MDXTag>\n<MDXTag name=\"h1\" components={components}>{`Optimisation tips.`}</MDXTag>\n<MDXTag name=\"ul\" components={components}>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`It almost seems like you're going to have to follow the billing process twice. You're just better off using a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Singleton`}</MDXTag>{` instance of the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingClient`}</MDXTag>{`. If you're using a DI framework like the excellent `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://google.github.io/dagger/\"}}>{`Dagger`}</MDXTag>{`, you're better off creating a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Singleton`}</MDXTag>{` component on your dependency graph and then injecting it as needed.`}</MDXTag>\n</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`One of the biggest challenges for me was the fact that `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`In-App Billing`}</MDXTag>{` was not showing up on the Play console. That'd be because my production APK didn't have the In-App billing permissions. This is easily remedied by creating an Alpha release of your app - and actually its highly recommended because you can then use test accounts to test the purchase flows. As long as your test users are added as alpha testers for your app!`}</MDXTag>\n<MDXTag name=\"p\" components={components} parentName=\"li\"><MDXTag name=\"strong\" components={components} parentName=\"p\">{`Questions? Suggestions? Compliments? Tips to make this post better? I'd love to hear your thoughts! Join the conversation on twitter and tweet to `}<MDXTag name=\"a\" components={components} parentName=\"strong\" props={{\"href\":\"https://twitter.com/overjeer\"}}>{`@overjeer`}</MDXTag></MDXTag></MDXTag>\n</MDXTag>\n</MDXTag>\n</div>\n           </MDXTag>\n  }\n}\nMDXContent.isMDXComponent = true\n  ","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}