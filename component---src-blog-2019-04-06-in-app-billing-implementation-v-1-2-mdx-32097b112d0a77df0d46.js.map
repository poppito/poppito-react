{"version":3,"sources":["webpack:///./src/blog/images/billing/add-product.png","webpack:///./node_modules/@mdx-js/tag/dist/index.js","webpack:///./node_modules/@mdx-js/tag/dist/mdx-provider.js","webpack:///./node_modules/@mdx-js/tag/dist/mdx-tag.js","webpack:///./src/blog/images/billing/in-app-products.png","webpack:///./src/blog/2019-04-06-In-App-Billing-implementation-v1.2.mdx","webpack:///./src/blog/images/billing/strayamate-demo.webm","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["module","exports","Object","defineProperty","value","_mdxTag","enumerable","get","_interopRequireDefault","default","_mdxProvider","obj","__esModule","withMDXComponents","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","_react2","_React$createContext","createContext","Provider","Consumer","Component","props","createElement","contextComponents","components","children","_createClass","defineProperties","descriptor","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","defaults","inlineCode","wrapper","MDXTag","_Component","this","__proto__","getPrototypeOf","apply","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_props","name","parentName","_props$props","childProps","_props$components","Layout","layoutProps","MDXContent","layout","render","className","href","smooth","duration","align","src","in_app_products","width","add_product","controls","autostart","autoPlay","video","frameborder","allowfullscreen","React","isMDXComponent","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf"],"mappings":"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","file":"component---src-blog-2019-04-06-in-app-billing-implementation-v-1-2-mdx-32097b112d0a77df0d46.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/add-product-443b94c5ae1e11ab2239bb978018845b.png\";","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mdxTag = require('./mdx-tag');\n\nObject.defineProperty(exports, 'MDXTag', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_mdxTag).default;\n  }\n});\n\nvar _mdxProvider = require('./mdx-provider');\n\nObject.defineProperty(exports, 'MDXProvider', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_mdxProvider).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withMDXComponents = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar _React$createContext = _react2.default.createContext({}),\n    Provider = _React$createContext.Provider,\n    Consumer = _React$createContext.Consumer;\n\nvar withMDXComponents = exports.withMDXComponents = function withMDXComponents(Component) {\n  return function (props) {\n    return _react2.default.createElement(Consumer, null, function (contextComponents) {\n      return _react2.default.createElement(Component, _extends({}, props, {\n        components: props.components || contextComponents\n      }));\n    });\n  };\n};\n\nvar MDXProvider = function MDXProvider(props) {\n  return _react2.default.createElement(Provider, {\n    value: props.components\n  }, props.children);\n};\n\nexports.default = MDXProvider;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _mdxProvider = require('./mdx-provider');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar defaults = {\n  inlineCode: 'code',\n  wrapper: 'div'\n};\n\nvar MDXTag = function (_Component) {\n  _inherits(MDXTag, _Component);\n\n  function MDXTag() {\n    _classCallCheck(this, MDXTag);\n\n    return _possibleConstructorReturn(this, (MDXTag.__proto__ || Object.getPrototypeOf(MDXTag)).apply(this, arguments));\n  }\n\n  _createClass(MDXTag, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          name = _props.name,\n          parentName = _props.parentName,\n          _props$props = _props.props,\n          childProps = _props$props === undefined ? {} : _props$props,\n          children = _props.children,\n          _props$components = _props.components,\n          components = _props$components === undefined ? {} : _props$components,\n          Layout = _props.Layout,\n          layoutProps = _props.layoutProps;\n      var Component = components[parentName + '.' + name] || components[name] || defaults[name] || name;\n\n      if (Layout) {\n        return _react2.default.createElement(Layout, _extends({\n          components: components\n        }, layoutProps), _react2.default.createElement(Component, childProps, children));\n      }\n\n      return _react2.default.createElement(Component, childProps, children);\n    }\n  }]);\n\n  return MDXTag;\n}(_react.Component);\n\nexports.default = (0, _mdxProvider.withMDXComponents)(MDXTag);","module.exports = __webpack_public_path__ + \"static/in-app-products-e8c6d4c330355899ecf057aeed07a34d.png\";","\n  import React from 'react'\n  import { MDXTag } from '@mdx-js/tag'\n  import video from './images/billing/strayamate-demo.webm';\nimport in_app_products from './images/billing/in-app-products.png';\nimport add_product from './images/billing/add-product.png';\n\nconst layoutProps = {\n  \n};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.layout = null\n  }\n  render() {\n    const { components, ...props } = this.props\n\n    return <MDXTag\n             name=\"wrapper\"\n             \n             components={components}>\n<div className=\"blogpage\">\n    <a href={\"/blog\"} smooth duration={1000}>\n    {\"Back\"}\n    </a>\n</div>\n<div className=\"blogText\">\n<MDXTag name=\"h1\" components={components}>{`A continuation.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`I wrote a post about In-App Billing in Android `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"2017-12-09-App-monetisation-and-In-App-Billing-implementation\"}}>{`previously`}</MDXTag>{` - this is really just an update to that original post. Before we start (again) though - lets get the semantics out of the way: the API is called In-App Billing however, whenever you sell a product leveraging this API, its an In-App product (IAP).`}</MDXTag>\n<MDXTag name=\"h1\" components={components}>{`First things first.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`IAPs are setup in the Play console - under store presence > In-App Products. But, I wasn't able to initially set this up at all. After digging a little bit I found my production APK didn't have the In-App billing permissions. (Wouldn't this be the case for everyone?) This is easily remedied by creating an Alpha release of your app - and actually its highly recommended because you can then use test accounts to test the purchase flows. As long as your test users are added as alpha testers for your app!`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Now we set up an `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`SKU`}</MDXTag>{` - a stock keeping unit - This is just a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`String`}</MDXTag>{` value that an `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-App product`}</MDXTag>{` gets given when we generate one. Let's explore this here - we'll add an `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-app product`}</MDXTag>{` that we can bill against.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`On the `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`Play Console`}</MDXTag>{`, under `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`Store Presence`}</MDXTag>{`, there is an option to create `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-App products`}</MDXTag>{` click on `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`Add a Managed Product`}</MDXTag>{` - then give it an id (only underscores, lowercase letters and digits allowed!) - which will become the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`sku`}</MDXTag>{` for your `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-App Product`}</MDXTag>{`\nNext, give it a title and a description as well as price. This will show up when a user tries to buy your In-app product through your app, so make it short and simple. The Play console does automatic currency conversions for countries your app is supported in - so if you need to tweak that for individual countries - you can it here as well. Finally, click  on save and it will add your `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`In-App product`}</MDXTag>{`.`}</MDXTag>\n<p align=\"center\">\n<img src= { in_app_products } width=\"30%\" />\n</p>\n<p align=\"center\">\n<img src= { add_product } width=\"30%\" />\n</p>\n<MDXTag name=\"p\" components={components}>{`Now that you've got an `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`sku`}</MDXTag>{`, you can create a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`@StringRes`}</MDXTag>{` for it.`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`    <string name=\"id_sku_my_product\">01_my_first_product</string>\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Update our permissions to use `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`In-App Billing`}</MDXTag>{` in our `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`AndroidManifest.xml`}</MDXTag>{` file.`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`    <uses-permission android:name=\"com.android.vending.BILLING\" />\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Also, to start using IAB, you will need to pull in the IAB depedency into your app. Add this to the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`dependencies`}</MDXTag>{` closure of your app's `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`build.gradle`}</MDXTag>{`:`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`    implementation 'com.android.billingclient:billing:1.2.2'\n`}</MDXTag></MDXTag>\n<MDXTag name=\"h1\" components={components}>{`The anatomy of IAB / IAPs in Android.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Use the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingClient`}</MDXTag>{`, its your friend. When you use the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingClient`}</MDXTag>{` builder, you set a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`PurchasesUpdatedListener`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`  billingClient = BillingClient.newBuilder(context)\n                  .setListener(this)\n                  .build();\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`In order to start doing anything interesting, you call `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`startConnection()`}</MDXTag>{` and pass an instance of a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`ConnectionStateListener`}</MDXTag>{`. This ensures connectivity of your app with the In-App Billing API. If it comes back with `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`OnBillingSetupFinished()`}</MDXTag>{`, which is the success scenario, you're ready for the next step. If it fails, it comes back with `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`OnBillingServiceDisconnected()`}</MDXTag>{`, this might warrant an error message.`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`    billing.startConnection(new BillingClientStateListener() {\n            @Override\n            public void onBillingSetupFinished(int responseCode) {\n                if (responseCode == BillingClient.BillingResponse.OK) {\n                    isBillingClientConnected = true; //this boolean value persists connection state.\n                    //do other interesting things here - as we're connected now.\n                }\n            }\n\n            @Override\n            public void onBillingServiceDisconnected() {\n               isBillingClientConnected = false;\n               //handle this failure gracefully.\n           }\n        }\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Now, we've got two things to worry about - what are the localised SKUs and their costs? So first, we query for all SKUs first. This is done by running:`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`    List<String> skuList = new ArrayList<> ();\n    skuList.add(\"premium_upgrade\");\n    skuList.add(\"gas\");\n    SkuDetailsParams.Builder params = SkuDetailsParams.newBuilder();\n    params.setSkusList(skuList).setType(SkuType.INAPP);\n    billingClient.querySkuDetailsAsync(params.build(),\n        new SkuDetailsResponseListener() {\n            @Override\n            public void onSkuDetailsResponse(int responseCode, List<SkuDetails> skuDetailsList) {\n                if (responseCode == BillingResponse.OK && skuDetailsList != null) {\n                    for (SkuDetails skuDetails : skuDetailsList) {\n                        String sku = skuDetails.getSku();\n                        String price = skuDetails.getPrice();\n                        if (\"premium_upgrade\".equals(sku)) {\n                            premiumUpgradePrice = price;\n                        } else if (\"gas\".equals(sku)) {\n                            gasPrice = price;\n                        }\n                    }\n                }\n            }\n        }\n    });\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Now that user has a list of SKUs and they want to purchase one, we start what's called a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingFlow`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`    BillingFlowParams flowParams = BillingFlowParams.newBuilder()\n        .setSkuDetails(skuDetails)\n        .build();\n    int responseCode = billingClient.launchBillingFlow(flowParams);\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Now, recall `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`OnPurchasesUpdatedListener`}</MDXTag>{` we set in the first step! That should call back if the purchase is successful!`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`    @Override\n    void onPurchasesUpdated(@BillingResponse int responseCode, List<Purchase> purchases) {\n            if (responseCode == BillingResponse.OK\n                    && purchases != null) {\n                for (Purchase purchase : purchases) {\n                    handlePurchase(purchase);\n                }\n            } else if (responseCode == BillingResponse.USER_CANCELED) {\n                // Handle an error caused by a user cancelling the purchase flow.\n            } else {\n                // Handle any other error codes.\n            }\n    }\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Nearly there! Now you can query for if the user has purchased your `}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`In-App Product`}</MDXTag>{`. This is determined by running the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`queryPurchaseHistoryAsync`}</MDXTag>{` callback on your `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`mBillingClient`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`    billingClient.queryPurchaseHistoryAsync(BillingClient.SkuType.INAPP, new PurchaseHistoryResponseListener() {\n                    @Override\n                    public void onPurchaseHistoryResponse(@BillingClient.BillingResponse int responseCode,\n                                                            List<Purchase> purchasesList) {\n                        if (responseCode == BillingClient.BillingResponse.OK) {\n                            if (purchasesList != null) {\n                                if (purchasesList.size() > 0) {\n                                    for (Purchase result : purchasesList) {\n                                        if (result.getSku().equals(mContext.getResources().getString(R.string.01_my_first_product))) {\n                                            //success! your user has bought your In-App product. Woohoo!\n                                        }\n                                    }\n\n                                }\n                            }\n                        }\n                    }\n                });\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Although, Android gives you some more convenience on top of this. You do not need to call `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`queryPurchaseHistoryAsync`}</MDXTag>{` everytime. Purchases are cached by the In-App Billing library - so you can just run `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`queryPurchases`}</MDXTag>{`. So, what naturally follows is that you would use this call to see if it comes back with legit `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`PurchaseResult`}</MDXTag>{`, if not you can run  `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`queryPurchaseHistoryAsync`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`    Purchase.PurchasesResult purchasesResult = mBillingClient.queryPurchases(BillingClient.SkuType.INAPP);\n                        if (purchasesResult != null) {\n                            if (purchasesResult.getPurchasesList() != null) {\n                                if (purchasesResult.getPurchasesList().size() > 0) {\n                                    for (Purchase result : purchasesResult.getPurchasesList()) {\n                                        if (result.getSku().equals(mContext.getResources().getString(R.string.01_my_first_product))) {\n                                            //success! your user has bought your In-App product. Wowie!\n                                        }\n                                    }\n                                }\n                            }\n                        }\n`}</MDXTag></MDXTag>\n<MDXTag name=\"h1\" components={components}>{`Optimisation tips.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`It almost seems like you're going to have to follow the billing process twice. You're just better off using a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Singleton`}</MDXTag>{` instance of the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`BillingClient`}</MDXTag>{`. If you're using a DI framework like the excellent `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://google.github.io/dagger/\"}}>{`Dagger`}</MDXTag>{`, you're better off creating a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Singleton`}</MDXTag>{` component on your dependency graph and then injecting it as needed.`}</MDXTag>\n<p align=\"center\">\n <h2> Demo </h2>\n <video width=\"30%\" controls autostart autoPlay src= { video } frameborder=\"0\" allowfullscreen></video>\n </p>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"strong\" components={components} parentName=\"p\">{` Questions? Suggestions? Compliments? Tips to make this post better? I'd love to hear your thoughts! Tweet to `}<MDXTag name=\"a\" components={components} parentName=\"strong\" props={{\"href\":\"https://twitter.com/overjeer\"}}>{`@overjeer`}</MDXTag></MDXTag></MDXTag>\n </div>\n           </MDXTag>\n  }\n}\nMDXContent.isMDXComponent = true\n  ","module.exports = __webpack_public_path__ + \"static/strayamate-demo-bf6e3a17b30aabeaa40465a5a78e7b3e.webm\";","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}